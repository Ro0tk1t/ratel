<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="./favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">

    <link rel="stylesheet" href="./3rdpartystatic/cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.2/theme/neo.css" />

    <title>Dgraph Ratel Dashboard</title>
    <link href="./static/css/main.css" rel="stylesheet"></head>

    <script>
        function isTemplateAnnotation(str) {
            return str.indexOf("{{") === 0 && str.lastIndexOf("}}") === str.length - 2;
        }
        function getServerAddr(href) {
            return isTemplateAnnotation(href) ? "" : href;
        };
        // Proper url with scheme/protocol passed by the server.
        window.SERVER_ADDR = getServerAddr("{{ .Addr }}");
    </script>

</head>

<body>
    <noscript>
        You need to enable JavaScript to run this app.
    </noscript>

   <div id="root"></div>


    <script>
      function injectJs(jsUrl) {
        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = jsUrl;
        document.body.appendChild(script);
      }

      function loadPrefixedJS(prefix) {
        console.info('Loading Ratel code from ', prefix);
        injectUrls(prefix + 'static/js/main.js', prefix+ 'static/css/main.css');
      }


      // Resolution Priority:
      // 1. if URL starts from ?cachedjs / ?local / ?dev / ?latest then load from RATEL_CDN_MAP
      // 2. if there's "cdn" URL param use it as a key in RATEL_CDN_MAP (e.g. ?cdn=dev)
      // 3. ?nocookie forces loader.html (storedCdn used to be a cookie)
      // 4. storedCdn value is matched against RATEL_CDN_MAP, if there's a match that URL is loaded
      // 5. if storedCdn is not empty but not matched in RATEL_CDN_MAP - storedCdn value is used as URL
      // 6. Nothing is specified in URL and no storedCdn - present loader.html

      // Assume the key of the first param is CDN version - latest, dev, local, cachedjs
      var paramsArray = Array.from(urlParams.entries());
      var codeVersion = paramsArray.length ? paramsArray[0][0] : null;

    </script>

   <script src="./static/js/main.js.map"></script>
   <script src="./static/js/main.js"></script>
</body>

</html>
